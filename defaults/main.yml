#
#  Copyright 2015 VMware, Inc.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
#
---
# Default domain name
dnsmasq_domain_name: "corp.local"

# dhcp interfaces (implicitely *not* DHCP serving) -- see sample
dnsmasq_external_interfaces: []
#  - {'search': 'corp.local vmware.com', 'broadcast': '192.168.0.255', 'netmask': '255.255.255.0', 'dns': '192.168.0.1 192.168.0.2', 'address': '192.168.0.2', 'device': 'eth0', 'type': 'static', 'gateway': '192.168.0.1'}

# external interface (for NAT, this is generally a DHCP client based NIC).
dnsmasq_dhcp_interfaces:
  - eth0

# Ranges to serve for DHCP IP addresses not otherwise statically assigned.
# Format:  - { Interface: eth1, Range: "172.16.69.32,172.16.69.254", Netmask: "255.255.255.0", Lease: 1440, DNS: "172.16.69.1" }
dnsmasq_dhcp_ranges: []

# For each net device that DHCP is desired, set the network up as a static router interface
# Format:  - {  device: "eth1", address: "192.168.110.2", netmask: "255.255.255.0", broadcast: "192.168.110.255",  range: "192.168.110.100,192.168.110.199", lease: 1440, dns: "192.168.110.2" }
dnsmasq_dhcp_networks: []

# Set static reservations here for assuring specific serves addresses
# These need not be in the ranges above.
# Format: - { hostname: "nfs-01a.corp.local", address: "192.168.110.11", mac: "00:50:56:03:3e:b0" }
dnsmasq_dhcp_reservations: []

# hosts not otherwise setup by DHCP requestors we want in the domain.
#Format:  - { ipv4: "10.150.111.233", host: "registry.corp.local" }
dnsmasq_additional_hosts: []

# alias (cname) records
# Format:  - { host: "router.corp.local", target: "chaperone-ui.corp.local" }
dnsmasq_cnames: []

# The path to 'additional' dnsmasq configurations
dnsmasq_etc_path: "/etc/dnsmasq.d"

# the path to the the resolv file we want to use
dnsmasq_resolv_file: "{{ dnsmasq_etc_path }}/dnsmasq.resolv"

# the path to the the resolv file we want to use
dnsmasq_dhcp_hosts_dir: "{{ dnsmasq_etc_path }}/dhcp-hosts"

# Enable tftp services
dnsmasq_enable_tftp: False
dnsmasq_tftp_unique_root: False
dnsmasq_tftp_web_port: 80
dnsmasq_tftp_web_loglevel: "INFO"
dnsmasq_tftp_images_dir: "/tftp/pxeboot/images"
dnsmasq_tftp_hostname: "tftp.corp.local"

# TODO: Remove the remainder since specific to ESXi
# --- ESXi specific info
# ESXi PXE boot installer info
esxi_tftp_esxi_version: "6.0.0-24945856"
esxi_tftp_iso: "VMware-VMvisor-Installer-{{ esxi_tftp_esxi_version }}.x86_64.iso"
esxi_tftp_iso_mountpoint: "/tmp/tftp_iso_mount"

# Format: root,user2,myname
esxi_full_access_users: root

# NFS stores to set as shared storage on ESXi hosts.
# Format:  - { ipv4: "nfs-01a.corp.local",  export: "/exports/esxi", vol_name: "nfs-01a" }
esxi_nfs_stores: []

# Setup for firewall services
esxi_firewall_enabled: "yes"
esxi_firewall_services: "syslog sshClient ntpClient updateManager httpClient netdump"

# List any vmnics to setup for DHCP
esxi_dhcp_vmnics:
  - vmnic0

# List any vmnics to setup for static IP (examples included)
# Format:  - { name: "vmnic0", hostname: "esx-oob-01a.corp.local",  address: "192.168.110.50", netmask: "255.255.255.0", gateway: "192.168.110.1", dns1: "192.168.110.1" }
esxi_static_vmnics: []

# List any vSwitches and portgroups to setup
# Format:
esxi_vswitches:
  - { vsname: "vSwitch0", pgname: "Management" }

# Set the kickstart info: target is the target environment (and thus
# has a directory in templates/tftp/; and template is the template
# to use for generating the kickstart (see templates/tftp).
esxi_kickstart_target: "vpod"
esxi_kickstart_template: "ESX_VPOD_KS.CFG.j2"
